<div class="tr-table">
<h3>Transactions Listing </h3>
<br>


<div class="date_range">
 <form action="/transactions" method="get">
  <% require 'Date' %>
    <label for="datefrom">Date From:</label>
    <input type="date" name="datefrom" id="datefrom" value="<%= Date.parse("1999-01-01") %>"  ><br>


    <label for="dateto">Date To:</label>
    <input type="date" name="dateto" id="dateto" value="<%= Date.today %>"  ><br>    
<br>
    <input class='bt' type='submit' value="Sort by Date Range">
  </form>
<br>

 <div class="opt-back-new-tr">
   <form action="/transactions/new">
        <input class="opt-width" type="submit" value="Add a new transaction">
   </form>
   </div>



</div>




<table class="tr-table-border">
 <tr class="tr-table-border">
    <th>Date</th>
    <th>Item</th> 
    <th>Merchant</th>
    <th>Amount (&#163;)</th>
  </tr>



<% summation = 0.00 %>
<% @transactions.each do |transaction| %>  
  <tr class="tr-table-border">
    <td  class="tr-table-border"> <a href="/transactions/<%= transaction.id %>">  <%= transaction.date_format(transaction.tr_date) %></a> </td>
    <td  class="tr-table-border"><%= transaction.item.name %> </td> 
    <td  class="tr-table-border"><%= transaction.merchant.name %> </td>
    <td  class="tr-table-border"><%=  sprintf('%.2f', transaction.amount) %> </td>

  </tr>
 <% summation += transaction.amount %>


<% end %>
</table>
<p>Sum: &#163;  <%= sprintf('%.2f',summation) %></p>
</div>







<footer>
  
  <br><br
</footer>
